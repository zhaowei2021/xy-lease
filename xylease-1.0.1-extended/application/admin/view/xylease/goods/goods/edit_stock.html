<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">
    <div id="goodsDetail" v-clock>
        <input id="skuPrice" name="skuprice" type="hidden" />
        <div class="col-md-12" v-if="type == 'single' || type == 'sell' || type == 'service'">    
            <div class="panel panel-default">
                <div class="panel-heading">调整库存（输入负数为减少库存）</div>
                <div class="panel-body" style="padding-bottom: 30px;">
                    
                    <div>
                        
                        <div v-if="issku == 0">

                            <div class="row mt-15">
                                <label class="control-label col-xs-12 col-sm-2" v-if="issku == 0" >{:__('当前库存')}:</label>
                                <div class="col-xs-12 col-sm-8" v-if="issku == 0" >
                                    <div class="stock">
                                        {$row.stock|htmlentities}
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-15">
                                <label class="control-label col-xs-12 col-sm-2" v-if="issku == 0" >{:__('调整数量')}:</label>
                                <div class="col-xs-12 col-sm-8" >
                                    <input id="c-nums" data-rule="required" class="form-control" name="row[nums]" placeholder="请输入数量" type="number" />
                                </div>
                            </div>
                            
                        </div>

                        <div v-if="issku == 1">
                
                            <div class="row mt-15">
                                <div class="col-xs-12 col-sm-12" >
                                    <div class="table-box" v-show="skuPrice.length && skuList.length">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <template v-for="(item, i) in skuList" :key="i">
                                                        <th v-if="item.children.length" width="80">
                                                            <span>{{item.name}}</span>
                                                        </th>
                                                    </template>
                                                    <th>
                                                        <span>当前库存</span>
                                                    </th>
                                                    <th>
                                                        <span>调整数量</span>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="(item, i) in skuPrice" :key="i">
                                                    <td v-for="(v, j) in item.goodsskutext" :key="j">
                                                        <span class="th-center">{{v}}</span>
                                                    </td>
                                                    <td>
                                                         <div class="stock">
                                                            {{item.stock}}
                                                         </div>
                                                    </td>
                                                    <td>
                                                        <input class="form-control" v-model="item.nums" type="number" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <div class="row mt-15 layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-primary btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
<style>
    [v-clock] {display: none;}
    .stock{line-height: 34px;background-color: #eee;border: solid 1px #ccc;padding-left: 12px; min-width: 150px;}
    .mt-15{margin-top: 15px;}
    .table-upload-img img{width: 34px;height: 34px;}
    table span{padding: 7px 0;display: block;}
    .add-sku-box,table{padding: 0 0 15px;border: solid 1px #d2d6de;}
    .add-sku-box .item{border-bottom: solid 1px #d2d6de;margin: 15px;padding-bottom: 15px;}
    .del-child-sku{position: absolute;right: 6px; width: 20px;top: -6px;border-radius: 10px;background: #d2d6de;height: 20px;text-align: center;line-height: 18px;cursor: pointer;}
    .crtable-box{border: solid 1px #ddd;width: 100%;}
    .crtable-box th{font-weight: bold;}
    .crtable-box td{padding: 10px 20px;border-top:  solid 1px #ddd;border-right:  solid 1px #ddd;}
    .flex{display: flex;flex-wrap: wrap;}
    .goods{justify-content: center;align-items: center;}
    .goods-list .item{border: solid 1px #d2d6de; margin: 15px;padding: 15px;}
    .goods-list .item .l{width: 360px;}
    .goods-list .goods-name{font-size: 16px;font-weight: bold;padding: 5px 0 2px;}
    .goods-list .item input{width: 100px; margin-top: 15px; margin-left: 30px;}
    .goods-list .item .control-label{margin-top: 15px;}
    .goods-list .item img{width: 80px;height: 60px; margin-right: 10px;}
    .goods-list .item .del{font-size: 20px;color:#d2d6de ; padding: 15px;margin-left: auto;cursor:default;}
    .goods-list .unit{margin: 20px 0 0 8px;}
</style>

